# SpMV

Sparse Matrix-Vector Multiplication

現実の問題には、疎でサイズが大きい行列がよく現れるので、そいつを効率よく処理するにはどのようにコンピュータ上で表現するかが重要な課題になる

CSR（Compressed Sparse Row）とか何種類かが提案されている

NVIDIAの人が出してるドキュメントがまとまっているらしい
http://www.nvidia.com/object/nvidia_research_pub_001.html



## Segmented Scan

「これからの並列計算のためのGPGPU連載講座(V) 疎行列ベクトル積を題材としたCUDA最適化プログラミング」
http://www.cc.u-tokyo.ac.jp/support/press/news/VOL12/No5/201009_gpgpu.pdf

を読んだ。

非ゼロ要素だけを一列に並べたものを一定個数で行に区切り、それを行ごとに並列処理するSegmented Scan方式で最適化してある。

```
+-----------------+
| 1| 0| 0| 2| 0| 0|
| 0| 3| 0| 0| 0| 4|
| 0| 5| 0| 0| 6| 7|
| 8| 9|10|11|12| 0|
| 0| 0| 0| 0|13| 0|
| 0|14| 0|15| 0|16|
+-----------------+

↓
+-----------+
| 1| 2| 3| 4|
| 5| 6| 7| 8|
| 9|10|11|12|
|13|14|15|16|
+-----------+
```


